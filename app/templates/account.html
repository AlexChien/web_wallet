
<div class="row head-bg  p-inner">

	<div class="col-sm-2">
	
		<gravatar-image  data-gravatar-email="account.private_data.gui_data.email" data-gravatar-size="512" data-gravatar-rating="pg" data-gravatar-default="mm" data-gravatar-secure="true" data-gravatar-css-class="img-responsive "></gravatar-image>
		
		<div class="text-center p-inner white-shadow">
			{{gravatarDisplayName}}
		</div>
		
		<div class="text-center">
			<button ng-click="toggleFavorite()" class="btn btn-sm btn-link primary" tooltip="Toggle favorite">
	        	<i ng-class="(account.private_data.gui_data.favorite) ? 'fa fa-star fa-2x' : 'fa fa-star-o fa-2x'"></i>
	  		</button>
			<span ng-switch on="account.delegate_info">
	  			<button ng-switch-default ng-click="toggleVoteUp()" class="btn btn-sm btn-link primary" tooltip="Toggle vote up">
			    	<i ng-class="(trust_level && trust_level > 0) ? 'fa fa-thumbs-up fa-2x' : 'fa fa-thumbs-o-up fa-2x'"></i>
				</button>
	  			<button ng-switch-when="null" style='color:grey' class="btn btn-sm btn-link" disabled="true">
			    	<i class='fa fa-thumbs-o-up fa-2x'></i>
				</button>
			</span>
		</div>
	</div>


	<div class="col-sm-10">
		<div class="header p-inner ">
  		<div class="" ng-switch on="account.registration_date">
  		  <div ng-switch-when="19700101T000000">
          <div ng-switch on="p.pendingRegistration">
			  <div ng-switch-when='pending'>
			    <div class="pull-right" translate>account.reg_pending</div>
                <div style='color:white;font-size:200%'>{{account.name}}</div>
			  </div>
			  <div ng-switch-default ng-show="account.is_my_account">
			    <div class="pull-right">
  		      	  <a style="margin-top: 4px;" type="submit" ng-click='regDial()'  class="btn btn-primary btn-success"><i class="fa fa-credit-card fa-lg fa-fw"></i> {{'account.reg' | translate}} {{account.name}}</a>
  		        </div>
  		      	<a onbeforesave="updateUser($data)" tooltip="Click to edit" href="#" style='font-size:200%' editable-text="account.name">{{account.name}}</a>
  		      </div>
  		    </div>
        </div>      
        <div class="reg-date" style="" class="white-shadow" ng-switch-default>
          <div style='color:white;font-size:200%'>{{account.name}}</div>
          <br>
          <i class="white">{{ 'account.reg_date' | translate }}: <span class="text-success">{{ account.registration_date | prettyDate }}</span></i>
        </div>
    </div>
  </div>
  
      <div class="col-sm-12">
            <div class="pull-right p-inner">
            <table  class="table table-striped table-acc-balance" ng-show="account.is_my_account">
              <thead>
              <tr>
                <th><h3 class="header-title text-muted" translate>account.balances</h3></th>
              </tr>
              </thead>
              <tbody>
                 <tr ng-repeat="(symbol, asset) in balances">
                    <td>
                        {{asset | formatAsset}}
                    </td>
                 </tr>
              </tbody>
            </table></div>
         	</div>
		</div>
    </div>
	</div>
</div>
<hr>
<div class="row">
  

  
	<!--<button class="btn btn-primary"><i class="fa fa-file-excel-o fa-lg fa-fw"></i> Issue assets</button>
  <button class="btn btn-primary">Free Registration</button> -->

<div class="col-sm-12 p-top">
<tabset>
    <tab active="$parent.t_active">
    <tab-heading><i class="fa fa-exchange fa-fw fa-lg"></i> {{'account.transactions' | translate }}</tab-heading>
      <div class="p-inner" ng-controller="TransactionsController" ng-include src="'transactions.html'"></div>
    </tab>
    <tab>
    <tab-heading><i class="fa fa-sign-out fa-fw fa-lg"></i>{{ 'account.transfer' | translate }}</tab-heading>
          <div id="transfer-form p-inner">
           <form name="my_transfer_form" class="form-horizontal p-inner" role="form" ng-submit="my_transfer_form.$valid && send()" >
             <div class="form-group row">
                 <label for="amount" class="col-sm-2 control-label" translate>account.amount</label>
               <div class="col-md-3">
                   <input ng-model="$parent.amount" type="text" class="form-control" placeholder="0.0" id="amount" ui-validate="'$value > 0'"required/>
               </div>
                 <div class="col-md-2">
                   <select class="form-control" id='symbol' ng-model="$parent.symbol" ng-options="k as k for (k, v) in $parent.balances"></select> 
                 </div>
              </div>

            <!--
             <div class="form-group">
               <label for="payfrom" class="col-sm-2 control-label">From</label>
               <div class="col-md-5">
                 <select ng-model="payfrom" type="text" class="form-control" placeholder="Account Name" id="payfrom" ng-options="account for account in accounts | filter:symbol"></select>
               </div>
             </div>
             -->

            <div class="form-group">
                <label for="payto" class="col-sm-2 control-label" translate>account.to</label>
             <div class="col-md-5">
                          <div class="input-group">
             
              <input ng-model="$parent.payto" type="text" class="form-control" placeholder="Contact Name" id="payto" typeahead="state as state for state in accountSuggestions($viewValue) | filter:{name: $viewValue}" typeahead-append-to-body='true' required/>
                 <span ng-click='newContactModal()' type="button" class=" input-group-addon btn white btn-success"><i class="fa fa-plus fa-lg fa-fw"></i> <i class="fa fa-user"></i></span>
          </div>
            </div>
</div>

            <div class="form-group">
             <label for="memo" class="col-sm-2 control-label" translate>account.memo</label>
             <div class="col-md-5">
                 <input ng-model="$parent.memo" type="text" class="form-control" ui-validate="{valid_memo: 'utils.byteLength($value) <= memo_size_max'}" placeholder="Memo" id="memo"/>
             </div>
            </div>
             <div class="form-group row">
               <div class="col-sm-offset-2 col-sm-10">
                   <button type="submit" class="btn btn-primary btn-success"><i class="fa fa-credit-card fa-lg fa-fw"></i> {{'account.send'|translate}}</button>
               </div>
             </div>
           </form>
          </div>
    </tab>
    <tab ng-show="account.is_my_account">
    <tab-heading><i class="fa fa-renren fa-fw fa-lg"></i> {{ 'account.assets' | translate }}</tab-heading>
      <div ng-controller="ManageAssetsController" ng-include src="'manage_assets.html'"></div>
    </tab>
    <tab ng-show="account.is_my_account">
    <tab-heading><i class="fa fa-cogs fa-fw fa-lg"></i> {{ 'account.advanced' | translate }}</tab-heading>
    <div class="p-inner"><b> {{ 'account.account_key' | translate}}:</b> {{account.active_key}}</div>

      <tabset class="p-inner">
          <tab heading="Import Private Key">
          <form class="form-horizontal" role="form" ng-submit="import_key()">
                <div class="form-group">
                 <label for="pk_value" class="col-sm-2 control-label" translate>account.priv_key</label>
                 <div class="col-sm-9">
                  <input ng-model="private_key.value" type="text" class="form-control" id="pk_value" placeholder="Private Key"/>
                 </div>
                </div>
                <div class="form-group">
                 <div class="col-sm-offset-2 col-sm-10">
                  <button type="submit" class="btn btn-primary" translate>account.import_key</button>
                 </div>
                </div>

               </form>	
          </tab>
          <tab heading="Import Wallet">
           <br/>

           <form class="form-horizontal" role="form" ng-submit="import_wallet()">
            <div class="form-group">
             <label for="wallet_file" class="col-sm-2 control-label" translate>account.wallet_type</label>
             <div class="col-sm-9">
                <select name="menu">
                <option value="1">Bitcoin</option>
                <option value="2">Multibit</option>
                <option value="3">Electrum</option>
                </select>
             </div>
            </div>
            <div class="form-group">
             <label for="wallet_file" class="col-sm-2 control-label" translate>account.wallet_path</label>
             <div class="col-sm-9">
              <input ng-model="wallet_info.file" type="text" class="form-control" id="wallet_file" placeholder=""/>
             </div>
            </div>
            <div class="form-group">
             <label for="wallet_password" class="col-sm-2 control-label" translate>account.wallet_password</label>
             <div class="col-sm-9">
              <input ng-model="wallet_info.password" type="password" class="form-control" id="wallet_password" placeholder="Password"/>
             </div>
            </div>
            <div class="form-group">
             <div class="col-sm-offset-2 col-sm-10">
              <button type="submit" class="btn btn-primary" translate>import_wallet</button>
             </div>
            </div>
           </form>
          </tab>
	    
      </tabset>
    </tab>
    <tab ng-show='account.is_my_account'>
    <tab-heading><i class="fa fa-edit fa-fw fa-lg"></i> {{ 'edit' | translate }}</tab-heading>
		<div class='row'>
			<div class="col-sm-2 m-top">
				<gravatar-image data-gravatar-email="$parent.edit.newemail" data-gravatar-size="512" data-gravatar-rating="pg" data-gravatar-default="mm" data-gravatar-secure="true" data-gravatar-css-class="img-responsive"></gravatar-image>
				<br>
				<p class="text-center lead">
					{{gravatarDisplayName}}
				</p>
			</div>
			<div class="col-sm-10">
				<form class="form-horizontal" role="form" name="wform" ng-submit="submitEditAccount()" ng-class="{ 'has-error' : wform.wp.$invalid && !wform.wp.$pristine }">
					<div class="form-group m-top">
					  	<div class="form-group row">
					  		<label for="email" class="col-sm-1 control-label" translate>email</label>
							<div class="col-sm-6">
					    		<input ng-model="$parent.edit.newemail" type="text" class="form-control" placeholder="Optional Email"/>
					  		</div>
					  	</div>
					  	<div class="form-group row">
					  		<label for="website" class="col-sm-1 control-label" translate>website</label>
							<div class="col-sm-6">
					    		<input focus ng-model="$parent.edit.newwebsite" type="text" class="form-control" placeholder="Website"/>
					  		</div>
					  	</div>
						<div ng-repeat="pair in $parent.edit.pairs">
						  	<div class="form-group row">
								<div class="col-sm-1">
						    		<input focus type="text" ng-model="pair.key" class="form-control" placeholder="Key"/>
						  		</div>
								<div class="col-sm-6">
						    		<input focus type="text" ng-model="pair.val" class="form-control" placeholder="Value"/>
						  		</div>
						  		<div class="col-sm-2">
						    		<button type="button" class="btn btn-warning" ng-click="removeKeyVal($index)"><i class="fa fa-times fa-fw"></i></button>
						  		</div>
					  		</div>
					  	</div>
					  	<div class="form-group row">
						  	<div class="col-sm-offset-1 col-sm-2">
                                <button type="button" class="btn btn-success" ng-click="addKeyVal()"><i class="fa fa-plus fa-fw"></i> {{ 'account.add_field' | translate}}</button>
					  		</div>
				  		</div>
						<div class="form-group row">
					  		<div class="col-sm-offset-1 col-sm-2">
					    		<button class="btn btn-primary" type="submit" translate>save</button>
					  		</div>
						</div>
					</div>
				</form>
			</div>
		</div>
    </tab>
</tabset>
</div>
</div>
