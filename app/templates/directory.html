<div class='row'>
<div class="col-sm-12">
  <div class="header">
    <h3 class="header-title">Directory</h3>
  </div>
</div>
</div>

<div class="main-content">
<div class="row">
  <div class="col-sm-12">
      <tabset>
        <tab>
          <tab-heading><i class="fa fa-star fa-lg"></i> Favorites</tab-heading>
          <div ng-controller="FavoriteController" ng-include src="'favorite.html'"></div>
        </tab>
        <tab>
          <tab-heading><i class="fa fa-users fa-lg"></i> Unregistered</tab-heading>
          <div ng-controller="ContactsController" ng-include src="'contacts.html'"></div>
        </tab>
        <tab>
          <tab-heading><i class="fa fa-globe fa-lg"></i> Registered</tab-heading>
          
            <div class="row">
              <div class="col-sm-3">
                <br> <input type="text" class="form-control" ng-model="q.name" placeholder='Filter'> <br>
              </div>
            </div>
            <div class="row">
                <div class="pull-right">
                    <br>
                    <button class="btn" ng-disabled="p.currentPage == 0" ng-click="p.currentPage=0">
                        First
                    </button>
                    <button class="btn" ng-disabled="p.currentPage == 0" ng-click="p.currentPage=p.currentPage-1">
                        Previous
                    </button>
                       {{p.currentPage+1}}/{{p.numberOfPages}}
                    <button class="btn" ng-disabled="p.currentPage >= p.numberOfPages - 1" ng-click="p.currentPage=p.currentPage+1">
                           Next
                    </button>
                    <button class="btn" ng-disabled="p.currentPage == p.numberOfPages - 1" ng-click="p.currentPage=p.numberOfPages - 1">
                        Last
                    </button>
                    <br>
                </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div id="registery">
                  <!--<input type="button" ng-click="rescan()" value="Rescan" class="btn btn-primary pull-right"/>-->
                  <table class="table table-striped table-hover">
                    <thead>
                      <tr>
						<th></th>
                        <th></th>
                        <th>NAME</th>
                        <th>REGISTRATION DATE</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="r in reg | filter:q | startFrom: p.currentPage * p.pageSize | limitTo : p.pageSize">
                      	<td style='width:1%;white-space:nowrap'><img src="http://www.gravatar.com/avatar/{{r.public_data.gravatarID}}?d=mm" /></td>
                        <td style='width:1%;white-space:nowrap'>
                          <button ng-click="addToContactsAndToggleFavorite(r.name, r.owner_key)" class="btn btn-link btn-sm"><i ng-class="isFavorite(r) ? 'fa fa-star fa-2x' : 'fa fa-star-o fa-2x'"></i>
</button>
                        </td>
                        <td><a href="#/accounts/{{r.name}}">{{ r.name }}</a></td>
                        <td>{{ formatRegDate(r.registration_date) }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
        </tab>
        <tab>
          <tab-heading><i class="fa fa-flag fa-lg"></i> Delegates</tab-heading>
          <div ng-controller="DelegatesController" ng-include src="'delegates.html'"></div>
        </tab>
        <tab>
          <tab-heading><i class="fa fa-renren fa-lg"></i> Assets</tab-heading>
          <div ng-controller="AssetsController" ng-include src="'assets.html'"></div>
        </tab>
      </tabset>
  </div>
</div>
</div>