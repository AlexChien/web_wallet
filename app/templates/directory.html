<div class="col-sm-12">
  <div class="header">
    <!--<button type="submit" ng-click='newContactModal()' class="btn btn-primary pull-right directory-add-contact">-->
      <!--<i class="fa fa-plus fa-fw"></i>Add Contact-->
    <!--</button>-->
    <h3 class="header-title">Directory</h3>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <div class="main-content">
      <tabset>
        <tab>
        <tab-heading><i class="fa fa-star fa-lg"></i> {{ 'directory.favorites' | translate }}</tab-heading>
          <div ng-controller="FavoriteController" ng-include src="'favorite.html'"></div>
        </tab>
        <tab>
        <tab-heading><i class="fa fa-eye-slash fa-lg"></i> {{ 'directory.unregistered' | translate }}</tab-heading>
          <div ng-controller="ContactsController" ng-include src="'contacts.html'"></div>
        </tab>
        <tab>
        <tab-heading><i class="fa fa-globe fa-lg"></i> {{ 'directory.registered'| translate }}</tab-heading>
          <div class="main-content">
            <div class="row">
              <div class="col-sm-3">
                <br> <input type="text" class="form-control" ng-model="q.name" placeholder='Filter'> <br>
              </div>
              <div class="col-sm-6">
              <ul class="pagination pagination-sm">
                    <li ><a class="btn" ng-disabled="p.currentPage == 0" ng-click="p.currentPage=0"> First</a></li>
                    <li><a class="btn" ng-disabled="p.currentPage == 0" ng-click="p.currentPage=p.currentPage-1">Previous</a></li> 
                    <li> <span class="btn btn-primary" style="color: #FFF; font-size: 110%; font-weight: 100;padding: 4px 12px;">{{p.currentPage+1}}/{{p.numberOfPages}}</span></li>
                    <li><a class="btn" ng-disabled="p.currentPage >= p.numberOfPages - 1" ng-click="p.currentPage=p.currentPage+1">Next</a></li>
                    <li><a class="btn" ng-disabled="p.currentPage == p.numberOfPages - 1" ng-click="p.currentPage=p.numberOfPages - 1">Last</a></li>
                </ul>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div id="registery">
                  <!--<input type="button" ng-click="rescan()" value="Rescan" class="btn btn-primary pull-right"/>-->
                  <table class="table table-striped table-hover">
                    <thead>
                      <tr>
						<th></th>
                        <th></th>
                        <th translate>th.name</th>
                        <th translate>th.registration_date</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="r in reg | filter:q | startFrom: p.currentPage * p.pageSize | limitTo : p.pageSize">
                      	<td style='width:1%;white-space:nowrap'>
                          <div class="avatar-40">
                            <img ng-src="http://robohash.org/set_any/bgset_any/{{r.name}}?size=40x40" height="40" width="40"/>
                          </div>
                        </td>
                        <td style='width:1%;white-space:nowrap'>
                          <button ng-click="addToContactsAndToggleFavorite(r.name, r.owner_key)" class="btn btn-link btn-sm"><i ng-class="isFavorite(r) ? 'fa fa-star fa-2x' : 'fa fa-star-o fa-2x'"></i></button>
                        </td>
                        <td><a ng-class="{'delegate-active-link' : delegate_active_hash_map[r.name], 'delegate-inactive-link' : delegate_inactive_hash_map[r.name], 'my-account-link': accounts[r.name].is_my_account}" href="#/accounts/{{r.name}}">{{ r.name }}</a></td>
                        <td>{{ formatRegDate(r.registration_date) }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </tab>
        <tab>
        <tab-heading><i class="fa fa-renren fa-lg"></i> {{ "assets" | translate }}</tab-heading>
          <div ng-controller="AssetsController" ng-include src="'assets.html'"></div>
        </tab>
      </tabset>
    </div>
  </div>
</div>
