<div class="mail">

<div class="col-sm-12">
<div class="header">
    <div class="col-xs-3"><h3 class="header-title" translate>index.mail</h3></div>
    <div class="col-xs-1 pull-right"><h2><i class="edit fa fa-plus" ng-click="go('mail.compose')"></i></h2></div>
</div><!--col-->
</div><!--header-->

<div class="col-xs-12">
<div class="header">

<tabset>
<tab ng-repeat="folder in mailbox.folder" ng-click="go('mail', {'box':folder.name})" active="folder.active">
<tab-heading>
    {{ 'mail.'+folder.name | translate }}
    {{folder.mail.length > 0 ? ' ('+folder.mail.length+')' : ''}}
</tab-heading>
<div class="row">
<div 
    ng-repeat="mail in folder.mail | filter: {type: 'email'}"
    ng-click="go('mail.show', {'id': mail.id})"
>
<div class="col-xs-12 hover">
    
    <div class="col-xs-8">
        <div class="sender">{{mail.sender}}&nbsp;
        <i class="fa {{mail.type}} message_icon"></i>
    </div>
    </div>
    <div class="col-xs-4">
        <div class="pull-right">{{mail.time}}</div>
    </div>
    <div class="col-xs-11">{{mail.subject}}</div>
    <!--div class="col-xs-1">
        <div class="pull-right"><i class="fa fa-trash-o"></i></div>
    </div-->
    <div class="col-xs-12"><small>{{mail.body}}</small></div>
    <div class="col-xs-12 alert alert-danger" ng-show="mail.failure_reason">{{'mail.' + mail.failure_reason | translate}}</div>
    <div class="col-xs-12"><hr></hr></div>
</div><!--col-->
</div><!--repeat-->
</div><!--row-->
</tab>
</tabset>


</div><!--col-->
</div><!--header-->

</div><!-- mail -->
